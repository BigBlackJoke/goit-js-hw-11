{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const renderFunctions = (data, gallery) => {\n    const makingGallery = data.hits.map((hit => {\n        const list = document.createElement('li');\n        const a = document.createElement('a');\n        const img = document.createElement('img');\n        const commentsNum = document.createElement('span');\n        const comments = document.createElement('span');\n        const likesNum = document.createElement('span');\n        const likes = document.createElement('span');\n        const viewsNum = document.createElement('span');\n        const views = document.createElement('span');\n        const downloads = document.createElement('span');\n        const downloadsNum = document.createElement('span');\n        const mainDiv = document.createElement('div');\n        const likesDiv = document.createElement('div');\n        const viewsDiv = document.createElement('div');\n        const commentsDiv = document.createElement('div');\n        const downloadsDiv = document.createElement('div');\n\n        a.href = hit.largeImageURL;\n        img.src = hit.webformatURL;\n        img.alt = hit.tags;\n        commentsNum.textContent = hit.comments;\n        comments.textContent = \"Comments\";\n        likesNum.textContent = hit.likes;\n        likes.textContent = \"Likes\";\n        viewsNum.textContent = hit.views;\n        views.textContent = \"Views\";\n        downloadsNum.textContent = hit.downloads;\n        downloads.textContent = \"Downloads\";\n\n        mainDiv.className = 'imageInfo';\n        likesDiv.className = 'imageEachInfo';\n        viewsDiv.className = 'imageEachInfo';\n        commentsDiv.className = 'imageEachInfo';\n        downloadsDiv.className = 'imageEachInfo';\n                    \n        likesDiv.appendChild(likes);\n        likesDiv.appendChild(likesNum);\n        viewsDiv.appendChild(views);\n        viewsDiv.appendChild(viewsNum);\n        commentsDiv.appendChild(comments);\n        commentsDiv.appendChild(commentsNum);\n        downloadsDiv.appendChild(downloads);\n        downloadsDiv.appendChild(downloadsNum);\n        mainDiv.appendChild(likesDiv);\n        mainDiv.appendChild(viewsDiv);\n        mainDiv.appendChild(commentsDiv);\n        mainDiv.appendChild(downloadsDiv);\n        a.appendChild(img);\n        list.appendChild(a);\n        list.appendChild(mainDiv);\n        return list;\n    }));\n    gallery.innerHTML = '';\n    gallery.append(...makingGallery);\n};\n\n","export const pixabayApi = (usersRequest) => {\n    const searchParams = new URLSearchParams({\n            key: \"44096290-4b282435e4320beb633e0ff8a\",\n            q: usersRequest,\n            image_type: \"photo\",\n            orientation: \"horizontal\",\n            safesearch: \"true\",\n        });\n\n        const url = `https://pixabay.com/api/?${searchParams.toString()}`;\n\n    return fetch(url)\n        .then((response) => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        })\n        .catch((error) => console.log(error));    \n};","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { renderFunctions } from './js/render-functions';\nimport { pixabayApi } from './js/pixabay-api';\n\n\nconst form = document.querySelector(\".form\");\nconst input = document.querySelector(\".searching-input\");\nconst gallery = document.querySelector(\".gallery-elements\");\nconst loader = document.querySelector(\".loader\");\n\nloader.style.display = 'none';\n\nlet lightbox = new SimpleLightbox('.gallery a', { captions: true, captionsData: 'alt', captionPosition: 'bottom', captionDelay: 250 });\n\nform.addEventListener(\"submit\", (event) => {\n    event.preventDefault();\n    if (input.value != \"\") {\n\n        loader.style.display = 'block';\n\n        pixabayApi(input.value)\n            .then((data) => {\n                if (data.hits.length === 0) {\n                    iziToast.show({\n                        message: 'Sorry, there are no images matching your search query. Please, try again!',\n                        messageColor: 'rgba(250, 250, 251, 1)',\n                        messageSize: '16px',\n                        messageLineHeight: '24px',\n                        backgroundColor: 'rgba(181, 27, 27, 1)',\n                        position: 'topRight',\n                        maxWidth: '432px',\n                        timeout: 2000\n                    });\n                } else {\n                    renderFunctions(data, gallery);\n                    lightbox.refresh();\n                    input.value = \"\";\n                };\n            })\n            .catch((error) => {\n                console.log(error);\n            })\n            .finally(() => {\n                loader.style.display = 'none';\n            });\n    } else {\n        iziToast.show({\n            message: 'Searching input cannot be empty! Please fill the input to start searching.',\n            messageColor: 'rgba(255, 255, 255, 1)',\n            messageSize: '16px',\n            messageLineHeight: '24px',\n            backgroundColor: 'rgba(181, 27, 27, 1)',\n            position: 'topRight',\n            maxWidth: '432px',\n            timeout: 2000\n        });\n    }\n});"],"names":["renderFunctions","data","gallery","makingGallery","hit","list","a","img","commentsNum","comments","likesNum","likes","viewsNum","views","downloads","downloadsNum","mainDiv","likesDiv","viewsDiv","commentsDiv","downloadsDiv","pixabayApi","usersRequest","url","response","error","form","input","loader","lightbox","SimpleLightbox","event","iziToast"],"mappings":"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"}